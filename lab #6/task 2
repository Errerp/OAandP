/*
	В матрице размером NxM выполнить сортировку столбцов по убыванию 
    количества элементов встречающихся более одного раза методом выбора.
*/
#include "function.h"

void input_n(int* n) {
    int x;
    while (scanf_s("%d", &x) != 1 || x > 100 || x < 1 || x % 1 != 0 || getchar() != '\n') {
        printf("Ошибка. Попробуйте снова: ");
        rewind(stdin);
    }
    *n = x;
}
void input_m(int* m) {
    int x;
    while (scanf_s("%d", &x) != 1 || x > 100 || x < 1 || x % 1 != 0 || getchar() != '\n') {
        printf("Ошибка. Попробуйте снова: ");
        rewind(stdin);
    }
    *m = x;
}

int choose_input(int* matr, int n, int m) {
    int x;
    while (scanf_s("%d", &x) != 1 || x > 2 || x < 1 || x % 1 != 0 || getchar() != '\n') {
        printf("Ошибка. Попробуйте снова: ");
        rewind(stdin);
    }
    switch (x)
    {
    case 1:
        printf("\nВведите элемент матрицы: \n");
        input_matr(matr, n, m);
        break;
    case 2:
        rand_matr(matr, n, m);
        break;
    }
    return matr;
}

int main()
{
    int  m, n, ** matr;
    setlocale(LC_ALL, "Russian");
    srand(time(NULL));
    printf("Введите количество строк: ");
        input_n(&n);
    printf("Введите количество колонок: ");
        input_m(&m);
        matr = memory(n, m);
    printf("Выберите способ ввода:\n1)С клавиатуры\n2)Случайные числа\n");
        choose_input(matr, n, m);
    printf("\nНачальная матрица:\n\n");
        print_matr(matr, n, m);
            vybor(matr, n, m);
    printf("\nОтсортированная матрица:\n\n");
        print_matr(matr, n, m);
            libertad(n, matr);
    return 0;
}
